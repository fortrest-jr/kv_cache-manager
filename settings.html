<div class="kv-cache-manager-settings">
    <div class="inline-drawer">
        <div class="inline-drawer-toggle inline-drawer-header">
            <b>KV Cache Manager</b>
            <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
        </div>
        <div class="inline-drawer-content">
            <div class="kv-cache-manager-section">
                <h3>Управление кешем</h3>
                <div class="kv-cache-manager-field">
                    <p><strong>Слоты:</strong></p>
                    <div id="kv-cache-slots-list" class="kv-cache-manager-info">
                        <p>Загрузка...</p>
                    </div>
                </div>
                <div class="kv-cache-manager-field flex-container">
                    <input id="kv-cache-save-now-button" class="menu_button" type="submit" value="Сохранить все" />
                </div>
                <div class="kv-cache-manager-field flex-container">
                    <input id="kv-cache-save-button" class="menu_button" type="submit" value="Сохранить с именем" />
                </div>
                <div class="kv-cache-manager-field flex-container">
                    <input id="kv-cache-load-button" class="menu_button" type="submit" value="Загрузить кеш" />
                </div>

                <hr class="sysHR" />
            
                <div class="kv-cache-manager-field flex-container">
                    <input id="kv-cache-release-all-slots-button" class="menu_button" type="submit" value="Очистить все слоты" />
                </div>
            </div>

            <hr class="sysHR" />

            <div class="kv-cache-manager-section">
                <h3>Автоматическое сохранение</h3>
                <div class="kv-cache-manager-field flex-container">
                    <input type="checkbox" id="kv-cache-enabled" />
                    <label for="kv-cache-enabled">Включить автосохранение</label>
                </div>
                <div class="kv-cache-manager-field flex-container">
                    <label for="kv-cache-save-interval">Сохранять каждые N сообщений:</label>
                    <input type="number" id="kv-cache-save-interval" class="text_pole" min="1" value="5" />
                </div>
                <div class="kv-cache-manager-field flex-container">
                    <label for="kv-cache-max-files">Максимум файлов на персонажа:</label>
                    <input type="number" id="kv-cache-max-files" class="text_pole" min="1" value="10" />
                </div>
            </div>

            <hr class="sysHR" />

            <div class="kv-cache-manager-section">
                <h3>Групповой кеш</h3>
                <div class="kv-cache-manager-field flex-container">
                    <input id="kv-cache-preload-characters-button" class="menu_button" type="submit" value="Создать кеш для персонажей группы" />
                </div>
                <div class="kv-cache-manager-field flex-container">
                    <label for="kv-cache-preload-timeout">Таймаут прогрузки (минуты):</label>
                    <input type="number" id="kv-cache-preload-timeout" class="text_pole" min="1" value="20" />
                </div>
            </div>

            <hr class="sysHR" />

            <div class="kv-cache-manager-section">
                <h3>Дополнительные настройки</h3>
                <div class="kv-cache-manager-field flex-container">
                    <input type="checkbox" id="kv-cache-show-notifications" />
                    <label for="kv-cache-show-notifications">Показывать уведомления</label>
                </div>
                <div class="kv-cache-manager-field flex-container">
                    <input type="checkbox" id="kv-cache-clear-on-chat-change" />
                    <label for="kv-cache-clear-on-chat-change">Очищать кеш при смене чата</label>
                </div>
            </div>

            <hr class="sysHR" />
        </div>
    </div>
</div>
